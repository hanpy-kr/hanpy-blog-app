---
deployment: true
category: Backend
title: 'λ‚™κ΄€μ  λ½(Optimistic Lock)'
summary: 'λ™μ‹μ„± μ΄μλ¥Ό ν•΄κ²°ν•κΈ°μ„ν• λ‚™κ΄€μ  λ½μ— λ€ν•΄ μ•μ•„λ΄…μ‹λ‹¤.'
pageKey: Backend_Optimistic_lock_ko
lng: KOR
publishedAt: 2025-01-16
---

# λ‚™κ΄€μ  λ½(Optimistic Lock)

λ‚™κ΄€μ  λ½ (Optimistic Lock)μ€ λ°μ΄ν„° κ°±μ‹  μ‹ μ¶©λμ΄ λ°μƒν–λ”μ§€ κ²€μ¦ν•κ³ , μ¶©λμ΄ μ—†μ„ λ•λ§ κ°±μ‹ μ„ ν—μ©ν•λ” λ°©μ‹μ„ μλ―Έν•©λ‹λ‹¤. λ”°λΌμ„ μ¶©λμ΄ λ§μ΄ μΌμ–΄λ‚μ§€ μ•λ” ν™κ²½μ—μ„ λ§μ΄ μ‚¬μ©λλ©°, λΉ„κ΄€μ  λ½λ³΄λ‹¤λ” μ„±λ¥μ΄ μΆ‹μµλ‹λ‹¤.

<br />

λ‚™κ΄€μ  λ½μ€ μμ›μ κ²½μμ„ λ‚™κ΄€μ μΌλ΅ λ°”λΌλ΄…λ‹λ‹¤. λ”°λΌμ„ λ‹¤μ¤‘ νΈλμ­μ…μ΄ λ™μ‹μ— λ°μ΄ν„°λ¥Ό μμ •ν•μ§€ μ•λ”λ‹¤κ³  κ°€μ •ν•©λ‹λ‹¤. μ½μ€ μ‹μ μ—μ„λ” μƒκ΄€μ—†μ§€λ§, λ°μ΄ν„°λ¥Ό μμ •ν•λ” μ‹μ μ—μ„λ” μ•μ—μ„ μ½μ€ λ°μ΄ν„°κ°€ λ‹¤λ¥Έ μ‚¬μ©μμ— μν•΄ λ³€κ²½μ΄ λμ—λ”μ§€ κ²€μ‚¬λ¥Ό ν•΄μ•Όν•©λ‹λ‹¤.

## λ™μ‹μ„± μ΄μ

μ¨λΌμΈ μ‡Όν•‘λ°μ—μ„ μ•„λμ μ”κµ¬μ‚¬ν•­μ΄ μλ‹¤κ³  κ°€μ •ν•΄ λ³΄κ² μµλ‹λ‹¤.

<br />

```
- μƒν’ Hμ μ¬κ³  μ : 10
- μ‚¬μ©μ Aμ™€ μ‚¬μ©μ Bκ°€ λ™μ‹μ— μƒν’ Hλ¥Ό κµ¬λ§¤
```

<br />

μ‚¬μ© μ‹λ‚λ¦¬μ¤λ” μ•„λμ™€ κ°™μµλ‹λ‹¤.

<br />

1. μ‚¬μ©μ Aλ” μƒν’ Hμ μ¬κ³ λ¥Ό μ΅°νν•©λ‹λ‹¤.
2. μ‚¬μ©μ Bλ„ κ°™μ€ μ‹μ μ— μƒν’ Hμ μ¬κ³ λ¥Ό μ΅°νν•©λ‹λ‹¤.
3. μ‚¬μ©μ Aλ” μƒν’ Hλ¥Ό 2κ° κµ¬μ…ν•κ³ , μ‚¬μ©μ Bλ” μƒν’ Hλ¥Ό 6κ° κµ¬μ…ν•©λ‹λ‹¤.

<br />

μ„ caseμΈ κ²½μ°μ— λ‚™κ΄€μ  λ½ μ‚¬μ©μ „κ³Ό ν›„λ¥Ό ν™•μΈν•΄ λ³΄κ³  λ‚™κ΄€μ  λ½μ— λ€ν• μ΄ν•΄λ„λ¥Ό λ†’μ—¬ λ΄…μ‹λ‹¤.

<br />
### π“– λ‚™κ΄€μ  λ½ μ‚¬μ© μ „

<br />

```
- μ‚¬μ©μ Aλ” μ¬κ³ λ¥Ό 8( 10 - 2 )λ΅ μ—…λ°μ΄νΈ ν•©λ‹λ‹¤.
- μ‚¬μ©μ Bλ” μ¬κ³ λ¥Ό 4( 10 - 6 )λ΅ μ—…λ°μ΄νΈ ν•©λ‹λ‹¤.
```

<br />

μ‚¬μ©μ Bκ°€ λ§μ§€λ§‰ μ—…λ°μ΄νΈλ¥Ό ν–λ‹¤κ³  ν•λ‹¤λ©΄, μ¬κ³ λ” 4λ΅ μ—…λ°μ΄νΈ λ©λ‹λ‹¤. ν•μ§€λ§ μ‹¤μ λ΅λ” 2κ°κ°€ λ‚¨μ•„μ•Ό ν•©λ‹λ‹¤. μ΄λ” λ™μ‹μ„± λ¬Έμ λ΅ μΈν•΄ λ°μ΄ν„°κ°€ λ¶μΌμΉν•κ² λ©λ‹λ‹¤.

### π“– λ‚™κ΄€μ  λ½ μ‚¬μ© ν›„

<br />

λ‚™κ΄€μ  λ½ (Optimistic Lock)μ€ μ£Όλ΅ version ν•„λ“λ‚ νƒ€μ„μ¤νΈν”„ κΈ°λ°μ ν•„λ“λ¥Ό μ‚¬μ”ν•μ—¬ λ™μ‹μ„± μ¶©λμ„ ν™•μΈν•©λ‹λ‹¤.

<br />

1. products ν…μ΄λΈ”μ— version μ—΄μ„ μ¶”κ°€ν•©λ‹λ‹¤. μ΄κΈ° μƒνƒμ μƒν’ Hμ version κ°’μ€ 1μ…λ‹λ‹¤.
2. μ‚¬μ©μ Aκ°€ μ¬κ³  μ—…λ°μ΄νΈ μ‹ version 1μΈ κ²½μ°λ„ ANDλ΅ μ¶”κ°€ν•μ—¬ μ—…λ°μ΄νΈ μΏΌλ¦¬λ¥Ό μ‹¤ν–‰ν•©λ‹λ‹¤. μ΄ λ• versionμ€ 2λ΅ ν•¨κ» λ³€κ²½ν•©λ‹λ‹¤.
3. μ‚¬μ©μ Bκ°€ μ¬κ³ λ¥Ό μ—…λ°μ΄νΈ μ‹λ„λ¥Ό ν•©λ‹λ‹¤. μ΄λ–„ version 1μΈ κ²½μ°λ¥Ό ANDλ΅ μ°Ύμµλ‹λ‹¤. ν•μ§€λ§, version 1μ€ μ΅΄μ¬ν•μ§€ μ•κΈ° λ•λ¬Έμ— μ—…λ°μ΄νΈμ— μ‹¤ν¨ν•©λ‹λ‹¤.
4. μ‚¬μ©μ Bλ” μ‹¤ν¨ν• μ‘μ—…μ— λ€ν• μƒν’ Hμ— λ€ν• μ΅°νλ¥Ό λ‹¤μ‹ μ§„ν–‰ν•μ—¬ μ‘μ—…μ„ μ¬μ‹λ„ ν•κ² λ©λ‹λ‹¤.

<br />

## μ •λ¦¬

λ‚™κ΄€μ  λ½(Optimistic Lock)μ„ ν†µν•΄ λ™μ‹μ„± μ΄μλ¥Ό λ°©μ§€ν•κ³  λ°μ΄ν„° λ¬΄κ²°μ„±μ„ μ μ§€ν•  μ μμµλ‹λ‹¤. μ΄λ” λ°μ΄ν„° μ¶©λμ΄ λΉλ²ν•μ§€ μ•λ” μ‹μ¤ν…μ— μ ν•©ν•©λ‹λ‹¤.

---

## Word

#### Deadlock

λ°λ“λ½(Deadlock)μ΄λ€, λ‘ κ° μ΄μƒμ μ‘μ—…μ΄ μ„λ΅ μμ›μ„ μ μ ν• μƒνƒμ—μ„ μƒλ€λ°©μ μμ›μ„ κΈ°λ‹¤λ¦¬λ©° μμ›ν μ§„ν–‰λμ§€ λ»ν•λ” μƒνƒλ¥Ό λ§ν•©λ‹λ‹¤.

#### Dirty Read

νΉμ • νΈλμ­μ…μ— μ²λ¦¬κ°€ μ™„λ£λμ§€ μ•μ€ λ°μ΄ν„°λ¥Ό λ‹¤λ¥Έ νΈλμ­μ…μ—μ„ ν™•μΈ ν•  μ μλ” ν„μƒμ„ μλ―Έν•©λ‹λ‹¤. dirty readλ¥Ό ν—μ©ν•κ² λλ©΄, λ°μ΄ν„°κ°€ λ‚νƒ€λ‚¬λ‹¤κ°€, μ‚¬λΌμ΅λ‹¤κ°€ ν•λ” ν„μƒμ„ μ΄λν•κΈ° λ•λ¬Έμ— μ •ν•©μ„± λ¬Έμ κ°€ λ°μƒν•©λ‹λ‹¤.

#### Non-Repeatable Read

ν•λ‚μ νΈλμ­μ…μ—μ„ λ™μΌν• Select μΏΌλ¦¬λ¥Ό μ‹¤ν–‰ μ‹ λ‹¤λ¥Έ κ²°κ³Όκ°€ ν‘μ¶λλ” ν„μƒμΌλ΅, κ²°μ μ™€ κ°™μ€ μ¤‘μ”ν• λ°μ΄ν„°λ¥Ό λ‹¤λ£° μ‹μ— ν° λ¬Έμ λ¥Ό λ°μƒ μ‹ν‚¬ μ μμµλ‹λ‹¤.

#### Phantom Read

ν•λ‚μ νΈλμ­μ…μ—μ„ μ—†λ λ°μ΄ν„°κ°€ μƒκΈ°λ” ν„μƒμ„ λ§ν•©λ‹λ‹¤.

---

## μ°Έκ³  λ§ν¬

- [λΉ„κ΄€μ  λ½(Pessimistic Lock)](http://localhost:3000/backend/ko/base/concurrency-pessimistic-lock)
- [λ‚™κ΄€μ  λ½(Optimistic Lock)](http://localhost:3000/backend/ko/base/concurrency-optimistic-lock)

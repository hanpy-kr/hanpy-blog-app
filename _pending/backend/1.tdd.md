# TDD

안정적인 프로젝트를 만들기 위함
만들어진 기능에 대한 결함 예방 및 검증.
추가 기능 발생시 결합 없는지 확인

테스팅으로 얻는 이점.

- 테스팅 환경 우축
  - 자동화 된 유닛 테스팅으로 버그 찾기 쉽다
  - 더 안정적
  - 재 설계 시간 간축

Test Driven Development 란?
1테스트 위주의 개발.

> 원하는 테스트 코드를 먼저 작성
> 2테스트 실행! > 실패
> 3테스트 코드에 맞는 실제 코드 작성
> 4테스트 실행

따라서 테스트 코드를 만들고, 테스트를 성공시키기 위해 코드를 작성한다.

# 테스트 종류

1. E2E. (cypress.io) 사이프레스
2. INTEGRATION (Jest)
3. UNIT (Jest)
4. STATIC (TypeScript)

4에서 1로 갈 수록 비용 증가 및 구현 속도 느려진다.

# Static(정적) 테스트

TypeScript나 Eslint 등으로 구문 오류나 스타일등을 검증하며 가장 쉽게 테스트를 생성할 수 있다.

# 단위(Unit) 테스트

개발자가 개발한 코드 단위(모듈, 함수 등)를 테스트한다. 개발 라이프 사이클의 초기 단계에서 버그가 식별되어 버그 수정 비용을 줄일 수 있다.

단위 테스트의 조건 1.독립적이어야한다. 즉, 다른 테스트에 의존하지 않아야 한다. 2.격리 되어야 한다. Ajax, Axios, LocalStorage 등 테스트 대상이 의존하는 것을 다른 것으로 대체해야한다.
다른 부분에 의한 오류가 나지 않도록, 의존성을 제거가 필요하다.

보통 우리가 함수나 모듈를 만드는 이유는 여러 class에서 가져다가 같이 쓰기 위함이다. 따라서 A Class에 장애가 발생하여 공통 모듈을 수정한다고 해보자. 그 수정으로인해 다른 Class에서 사용 중이던 class가 장애가 날 수 도 있다. 이러한 부분들을 테스트 코드로 인해 방지 할 수 있다.

# 통합 테스트

단위 테스트 보다 큰 범위로 각각의 부분들이 통합되어 목표한 동작을 하는지 테스트한다. 단위 테스트가 하나의 함수를 테스트 한다면, 통합 테스트는 함수를 테스트 하는데, 그 함수 안에 다른 함수 호출하는 함수를 테스트 하여 의존성이 있는지를 테스트한다.

구현 비용과 구현 시간을 고려했을때 가장 효율이 좋고 많이 작성하면 좋은 테스트이다.

ex) React Testing Library, Jest, Enzyme

# E2E

(구현속도가 느리고 비용이 많이 든다. 따라서 통합 테스트를 보통은 많이 작성한다.)
실제 사용자가 사용하는 것과 같은 조건에서 테스트를 진행하는 것을 말한다. QA팀에서 실제 사용자의 시나리오를 가지고 테스스 하는 것처럼 애플리케이션의 동작을 테스트 한다.

관리 어렵고, 속도가 느리고, 수행 비용이 비싸다.

정말 필요한 부분만 한다.

ex> Cypress, Puppeteer

# TDD(Test Driven Development) 과 BDD(Behavior Driven Development)

TDD: 테스트 먼저 작성 후 테스트가 정상적으로 돌아 갈 때 까지 테스트 하면서 코드를 작성
BDD: 테스트를 똑같이 작성하지만 행동 주도 개발이라는 용어처럼 사용자의 행위를 생각하면서 테스트를 작성한다.

정리하면, TDD와 BDD가 완전이 다른 것은 하니고 TDD의 한 종류가 BDD라고 할 수 있다. 테스트 위주로 개발을 하지만, 좀 더 사용자의 행동을 생각하며 테스트를 개발하는 것이 BDD이다. 사실상 실무에서 개발 시작 시, 요구사항이나 기획서가 있는데 이에 맞춰 테스트를 작성하면 BDD라고 할 수 있다.

TDD / BDD
[테스트목적]기능 동작 검증 / 서비스 유저 시나리오 동작 검증
[테스트 설계의 중심]모듈의 기능 중심 / 서비스 사용자 행위 중심
[테스트 코드 설계 재로]개발자가 작성하는 모듈 사양 문서 / 서비스 기획자가 작성하는 서비스 기획서

BDD와 TDD는 상호 보완적인 간계로 모듈이나 API 검증 시 TDD로 검증하고, DBB로 시나리오를 검증하면 좋다.
TDD로 인해 설계 단계에서 예외 사항 처리가 가능하고, 누락된 시나리오를 검증 할 때는 BDD를 사용하면 좋다.

https://bperhaps.tistory.com/entry/%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%BD%94%EB%93%9C%EB%A5%BC-%EC%96%B4%EB%8A%90%EC%A0%95%EB%8F%84-%EB%B2%94%EC%9C%84%EA%B9%8C%EC%A7%80-%EC%9E%91%EC%84%B1%ED%95%B4%EC%95%BC-%ED%95%98%EB%8A%94%EA%B0%80
